[[> partial:pageHeader ]]

<div class="container-fluid">
    <bs-row>
        <bs-col sm="2">
            Logo
        </bs-col>
        <bs-col sm="9">
            <div class="jila-component home-header">
                <h1>Johannes Itten Linked Archive (JILA)</h1>
                <p class="tagline"><i18n>home_tagline</i18n></p>
            </div>
            <div class="jila-component home-search">
                [[> component-search]]
            </div>
        </bs-col>
    </bs-row>
</div>

[[> partial:contentHeader padding=true]]
    <bs-row>
        <bs-col sm="12">
        </bs-col>
    </bs-row>
[[> partial:contentFooter]]
[[> partial:pageFooter ]]

[[#*inline "component-search"]]
    <semantic-search limit="10">
        <semantic-search-query-keyword
            tokenize-lucene-query="true"
            placeholder=""
            min-search-term-length="1"
            domain="<http://www.cidoc-crm.org/cidoc-crm/E39_Actor>"
            query='SELECT ?subject ?typeLabel ?score (COUNT(?relation) as ?num_relation) WHERE {
                ?subject a ?type ;
                    rdfs:label ?label .
                VALUES (?type ?typelabel) {
                    (search:Group "group")
                    (search:Person "person")
                }
                ?label bds:search ?__token__ ;
                    bds:relevance ?score ;
                    bds:matchAllTerms "true" .

                GRAPH <https://resource.swissartresearch.net/graph/network> {
                    ?subject ?relation ?object .
                }
            } GROUP BY ?subject ?typeLabel ?score
            ORDER BY DESC(?num_relation) DESC(?score)'
        ></semantic-search-query-keyword>
        <semantic-search-result-holder>
            <semantic-search-result>
                <div class="jila-component simple-search-results card-container">
                    <semantic-table 
                        id='grid-result'
                        no-result-template='<bs-panel class="info"><i18n>search_no_results</i18n></bs-panel>'
                        query='SELECT DISTINCT ?subject ?score (COUNT(?relation) as ?num_relation) WHERE {
                                ?subject rdfs:label ?label .
                            } 
                            GROUP BY ?subject ?typeLabel ?score
                            ORDER BY DESC(?num_relation) DESC(?score)'
                        number-of-displayed-rows="4"
                        options='{"showFilter": false}'
                        tuple-template='{{> partial:entityCard subject=subject.value}}'
                    >    
                    </semantic-table>
                </div>
            </semantic-search-result>
        </semantic-search-result-holder>
    </semantic-search>
[[/inline]]

[[#*inline "component-selected-items"]]
    <h2>Selected stuff</h2>
    <div class="jila-component simple-search-results card-container">
        <semantic-table 
            id='grid-selected'
            query='SELECT ?subject  WHERE {
                    VALUES(?subject ?label) {
                        (<https://resource.swissartresearch.net/actor/9D9C5FE9-5A09-35BC-A278-96A0DB7C57F1> "Walter Gropius")
                        (<https://resource.swissartresearch.net/collection/jila-3bcad6e1a3f0417abe3f0fd2cdf9842a> "Aufzeichnungen Formenlehre")
                        (<https://resource.swissartresearch.net/actor/6087C534-014F-3F05-BA83-778861FF59F2> "Lucia Moholy")
                        (<https://resource.swissartresearch.net/collection/jila-43908e6998744707b9f97af7af418d61> "Tagebuch Italienreise")
                        (<https://resource.swissartresearch.net/actor/E32268AC-B898-3225-98D4-D6BC388F0321> "Anna HÃ¶llering")
                        (<https://resource.swissartresearch.net/collection/jila-4a0b9a495b714d2eba527851f20c81be> "Farbanalyse Meisterwerke")
                        (<https://resource.swissartresearch.net/actor/C333E88B-3AAB-3076-8978-86CB42805A36> "Thomas Edison")
                    }
                }'
            number-of-displayed-rows="10"
            options='{"showFilter": false}'
            tuple-template='{{> partial:entityCard subject=subject.value}}'
        >    
        </semantic-table>
    </div>
[[/inline]]