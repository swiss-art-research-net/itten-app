[[> partial:pageHeader ]]
[[> partial:contentHeader]]
<div style="height:800px">
    <semantic-sigma-graph
    id="entity-view-graph"
    height="100%"
    width="100%"
    grouping='{
        "behaviour": "none",
        "enabled": false,
        "threshold": 5
    }'
    persist-graph="true"
    edge-filter="true"
    search-box="true"
    sizes='{"nodes": 2, "edges": 0.5}'
    colours='{
            "[[resolvePrefix "search:Person"]]": "#FF66B3",
            "[[resolvePrefix "crm:E21_Person"]]": "#FF66B3",
            "[[resolvePrefix "search:Actor"]]": "#fb644d",
            "[[resolvePrefix "crm:E39_Actor"]]": "#fb644d",
            "[[resolvePrefix "search:Object"]]": "#B0927A",
            "[[resolvePrefix "search:Place"]]": "#00CC66",
            "[[resolvePrefix "crm:E53_Place"]]": "#00CC66",
            "[[resolvePrefix "search:Collection"]]": "#FFD966",
            "[[resolvePrefix "search:Event"]]": "#0099FF"
        }'
    node-query='CONSTRUCT {
        ?subject ?predicate ?object .
        ?subject a ?typeSubject .
        ?object a ?typeObject .
    } WHERE {
        GRAPH <https://resource.jila.zb.uzh.ch/graph/network> {
        ?subject ?predicate ?object .
        }
        ?subject a ?typeSubject .
        ?object a ?typeObject .
        VALUES (?typeSubject) {
            [[> query-partial-entity-types]]
        }
        VALUES (?typeObject) {
            [[> query-partial-entity-types]]
        }
    }'
    query='
        CONSTRUCT {
        ?subject ?predicate ?object .
        ?subject a ?typeSubject .
        ?object a ?typeObject .
        } WHERE {
            GRAPH <https://resource.jila.zb.uzh.ch/graph/network> {
                ?subject ?predicate ?object .
            }
            ?subject a ?typeSubject .
            ?object a ?typeObject .
            VALUES (?typeSubject) {
                [[> query-partial-entity-types]]
            }
            VALUES (?typeObject) {
                [[> query-partial-entity-types]]
            }
        }'
    ></semantic-sigma-graph>
</div>
[[> partial:contentFooter]]
[[> partial:pageFooter ]]



[[#*inline "query-partial-entity-types"]]
    (crm:E21_Person)
    (crm:E39_Actor)
    (crm:E74_Group)
    (crm:E53_Place)
    (search:Actor)
    (search:Collection)
    (search:Event)
    (search:Group)
    (search:Object)
    (search:Person)
    (search:Place)
[[/inline]]